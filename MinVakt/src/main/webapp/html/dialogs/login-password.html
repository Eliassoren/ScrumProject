<script type="text/javascript">
    // <![CDATA[
    $(document).ready(function() {
        $("#login-lost-password-form").validate({
            rules: {
                login_lost_email: {
                    required: true,
                    email: true
                }
            },
            messages: {
                login_lost_email: {
                    required: "E-postadresse er obligatorisk.",
                    email: "E-postadressen er ugyldig."
                }
            },
            errorPlacement: function(error, element) {
                error.appendTo($("#" + element.attr("id") + "-error"));
            },
            submitHandler: function(form) {
                $.ajax({
                    type: "POST",
                    url: "/MinVakt/rest/session/lostpassword",
                    data: $(form).serialize(),
                    response: "text",
                    statusCode: {
                        200: function() {
                            $("#lostpassword-error-message").text("Nytt passord er sendt ut til oppgitt e-postadresse.");
                        },
                        404: function() {
                            $("#lostpassword-error-message").text("Konto med oppgitt e-postadresse finnes ikke.");
                        }
                    }
                });
            }
        });
    });
    // ]]>
</script>
<form class="modal-form" id="login-lost-password-form" action="#" method="post">
    <input class="input" id="login_lost_email" name="login_lost_email" type="text" placeholder="E-postadresse">
    <p class="login-error" id="login_lost_email-error"></p>
    <input id="button" class="input" name="submitbutton" type="submit" value="Send inn"/>
    <p id="lostpassword-error-message"></p>
</form>
